<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>index</title>
    <link rel="stylesheet" th:href="@{/static/css/main.css}" href="/static/css/main.css"/>
    <link rel="stylesheet" th:href="@{/static/layui/css/layui.css}" href="/static/layui/css/layui.css"/>
    <!--根据自己路径引入-->
<!--    <script th:src="@{/static/libs/jquery-3.2.1.min.js }"></script>-->
</head>
<body>
<div id="app">

<div class="main">


    <div class="layui-card">
        <div class="layui-card-header"  style="height: 50px !important;padding-top: 10px !important;background-color: #f5f5f5">
            <div class="layui-form-item">

                <div class="layui-inline" >
                    <div class="layui-input-inline" style="width: 180px;">
                        <input type="text" name="price_min" placeholder="请输入文件名" autocomplete="off" class="layui-input">
                    </div>
                </div>
            </div>

        </div>
        <div class="layui-card-body" style="min-height: 300px">
            <div>
                <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
                    <legend>拖拽上传</legend>
                </fieldset>

                <div style="width: 100%;text-align:center;">
                    <div class="layui-upload-drag" id="upload" style="width: 80%">
                        <i class="layui-icon"></i>
                        <p>点击上传，或将文件拖拽到此处</p>
                    </div>
                </div>

            </div>

        </div>
    </div>


</div>

</div>

</body>
<script th:src="@{/static/layui/layui.js}" src="/static/layui/layui.js" type="text/javascript"></script>
<script th:src="@{/static/js/main.js}" th:inline="none" type="text/javascript"></script>
<script type="text/javascript" th:inline="none">
    layui.use('upload', function(){
        let upload = layui.upload;

        //拖拽上传
        upload.render({
            elem: '#upload'
            ,accept: 'file' //普通文件
            ,choose: obj => {
                // 清空历史上传文件，解决choose只执行一次的问题！！！
                //upload.config.elem.next()[0].value = '';
            }
            ,url: '/file/upload' //此处用的是第三方的 http 请求演示，实际使用时改成您自己的上传接口即可。
            ,done: function(res){
                return layer.msg('上传成功');
            },
            error: function(e){
                console.log(e)
                return layer.msg('上传失败');
            }


        });
    });



</script>
</html>
